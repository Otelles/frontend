query GetVideos {
    videos {
        items {
            id
            title
            organization {
                id
                name
            }
            createdAt
        }
    }
}

mutation CreateVideo ($title: String!, $description: String!, $mediaId: ID!, $organizationId: ID!) {
    video {
        create(input: {title: $title, description: $description, mediaId: $mediaId, organizationId: $organizationId}) {
            status
            video {
                id
            }
        }
    }
}

mutation UpdateVideo ($id: ID!, $title: String!, $description: String!) {
    video {
        update(input: {id: $id, title: $title, description: $description}) {
            status
            video {
                id
            }
        }
    }
}

mutation PublishVideo ($videoId: ID!) {
    video {
        publish(videoId: $videoId) {
            status
        }
    }
}

mutation DeleteVideo ($videoId: ID!) {
    video {
        delete(videoId: $videoId) {
            status
        }
    }
}


query GetVideo($videoId: ID!) {
    video(id: $videoId) {
        ...BasicVideoMetadata
        ...VideoAssets
        organization {
            ...LatestVideos
        }
    }
}

fragment VideoAssets on Video {
    assets {
        id
        type
        path
    }
}

fragment BasicVideoMetadata on Video {
    id
    title
    description
    createdAt
    organization {
        id
        name
    }
    images {
        thumbLarge
        thumbMedium
        thumbSmall
    }
}

fragment LatestVideos on Organization {
    id
    name

    latestVideos {
        id
        title
        description
        createdAt
        organization {
            id
            name
        }
        images {
            thumbLarge
            thumbMedium
            thumbSmall
        }
        assets {
            id
            type
            path
        }
    }
}
